<app-title [title]="'Shopping Cart'" [link]="'/home'" [page1]="'Home'" [page2]="'Shopping Cart'" />

<div class="container">
    <div class="row justify-content-center" role="tablist">
        <div class="col-md-10">

            <ul class="nav nav-pills justify-content-between p-3 m-3">
                <li class="nav-item text-center">
                    <button class="nav-link cart-step-circle active" id="" data-bs-toggle="tab"
                        data-bs-target="#tab-cart" type="button" role="tab" aria-controls="tab-cart"
                        aria-selected="true">
                        1
                    </button>
                    <div class="cart-step-label">SHOPPING CART</div>

                </li>
                <li class="nav-item text-center  ">
                    <button class="nav-link cart-step-circle" id="" data-bs-toggle="tab" data-bs-target="#tab-info"
                        type="button" role="tab" aria-controls="tab-info" aria-selected="false">
                        2
                    </button>
                    <div class="cart-step-label">SHOPPING INFO</div>

                </li>
                <li class="nav-item text-center  ">
                    <button class="nav-link cart-step-circle" id="" data-bs-toggle="tab" data-bs-target="#tab-payment"
                        type="button" role="tab" aria-controls="tab-payment" aria-selected="false">
                        3
                    </button>
                    <div class="cart-step-label">PAYMENT METHOD</div>
                </li>
            </ul>
            <div class="cart-stepper-line"></div>
        </div>


        <div class="col-12 tab-content">

            <div id="tab-cart" class="tab-pane active">
                <div class="cart-container border">
                    <h4 class="cart-header">You have <span class="cart-items-count">{{cartService.count()}}</span> @if(cartService.count()<=1){ item} @else{ items} in your order.</h4>
                    <table class="  table align-middle border">
                        <thead class="bg-dark-subtle">
                            <tr class=" ">

                                <th class="text-center bg-dark-subtle py-3">NAME</th>
                                <th class="text-center bg-dark-subtle py-3">PRICE</th>
                                <th class="text-center bg-dark-subtle py-3">QTY.</th>
                                <th class="text-center bg-dark-subtle py-3">TOTAL</th>
                                <th class="text-center bg-dark-subtle py-3"></th>

                            </tr>
                        </thead>
                        <tbody>
                          
                            
                            <tr class="text-center" *ngFor="let item of cartService.cartItems()">

                                <td class="">


                                    <a class="float-lg-start" href="">

                                        <img [src]="item.imgurl" alt="Food" class="cart-img">
                                    </a>
                                    <div class="cart-item-name">


                                        <h4 class="cart-title">{{item.title}}</h4>
                                        <p class="cart-desc m-0">{{item.descsmall}}</p>
                                        <div class="cart-stars">
                                            <rating [(ngModel)]="item.rating" [max]="max" [readonly]="true" (keyup)="confirmSelection($event)">
                                            </rating>

                                        </div>
                                    </div>

                                </td>
                                <td class="cart-col-price">
                                   {{item.price}}
                                </td>
                                <td class="">
                                    <div class="cart-qty-controls">
                                        <button class="qty-btn qty-btn-minus-raduis" (click)="cartService.updateQuantity(item.id,-1)"><span>&minus;</span></button>
                                        <input [(ngModel)]="item.quantity" class="qty-value" placeholder="qty" type="number" value="1" size="1">
                                        <button class="qty-btn qty-btn-plus-raduis" (click)="cartService.updateQuantity(item.id,1)"><span>&plus;</span></button>
                                    </div>
                                </td>
                                <td class="cart-col-total">
                                   {{item.total}}
                                </td>
                                <td class="">
                                    <button class="remove-btn" (click)="cartService.removeItem(item.id)">&times;</button>
                                </td>
                            </tr>

                            <tr>
                                <td class="px-4 pb-4 bg-dark-subtle" colspan="5">
                                    <h3 class="cart-total text-end my-3">SUBTOTAL - {{cartService.total()}}</h3>
                                    <button class="cart-btn  float-start" >CONTINUE SHOPPING</button>
                                    <button class="cart-btn float-end" data-bs-toggle="tab" data-bs-target="#tab-info"
                                        type="button" role="tab" aria-controls="tab-info"
                                        aria-selected="false">CHECKOUT</button>

                                </td>
                            </tr>
                        </tbody>
                    </table>



                </div>
            </div>

            <div id="tab-info" class="tab-pane">
                <div class="container my-5 border py-5">
                    <div class="row justify-content-center mx-5">
                        <!-- <div class="col-md-10">
                            <div class="row g-5"> -->

                        <div class="col-md-5">
                            <h5 class="mb-4 fw-bold">SHOPPING ADDRESS</h5>
                            <form>
                                <input type="text" class="form-control mb-4 input" placeholder="COUNTRY">
                                <input type="text" class="form-control mb-4 input" placeholder="STATE">
                                <input type="text" class="form-control mb-4 input" placeholder="CITY">
                                <input type="text" class="form-control mb-4 input" placeholder="ZIP CODE">
                                <input type="text" class="form-control mb-4 input" placeholder="ADDRESS">

                            </form>
                        </div>

                        <div class="col-2"></div>
                        <div class="col-md-5">
                            <h5 class="mb-4 fw-bold text-start">CONTACT INFORMATION</h5>
                            <form>
                                <input type="text" class="form-control mb-4 input" placeholder="FIRST NAME">
                                <input type="text" class="form-control mb-4 input" placeholder="LAST NAME">
                                <input type="email" class="form-control mb-4 input" placeholder="EMAIL">
                                <input type="text" class="form-control mb-4 input" placeholder="PHONE NUMBER">

                            </form>
                        </div>
                        <div class="col-12">

                            <button class="cart-btn  float-start"  data-bs-toggle="tab" data-bs-target="#tab-cart"
                                type="button" role="tab" aria-controls="tab-cart"
                                aria-selected="false" > SHOPPING CART</button>
                            <button class="cart-btn  float-end" data-bs-toggle="tab" data-bs-target="#tab-payment"
                                type="button" role="tab" aria-controls="tab-payment"
                                aria-selected="false">CONTINUE</button>
                        </div>
                    </div>
                    <!-- </div>
                    </div> -->
                </div>
            </div>

            <div id="tab-payment" class="tab-pane">
                <!-- Payment Method Step -->
                <div class="container my-5">
                    <div class="row justify-content-center">
                        <div class="col-sm-12 bg-white rounded border p-5">
                           
                                <!-- Payment Options -->
                                <div class="d-flex justify-content-center gap-4 mb-5">
                                    
                                       
                                    <div class="payment-option selected">
                                        <img src="/imgs/visacard.png" alt="Visa" width="60">
                                    </div>
                                    <div class="payment-option">
                                        <img src="/imgs/mastercard.png" alt="Mastercard" width="60">
                                    </div>
                                    <div class="payment-option">
                                        <img src="/imgs/discovercard.png" alt="Discover" width="60">
                                    </div>
                                    <div class="payment-option">
                                        <img src="/imgs/paypal.png" alt="PayPal" width="60">
                                    </div>
                                </div>
                                <!-- Payment Form -->
                                <form class="px-5 w-50 mx-auto">
                                    <input type="text" class="form-control mb-3 input" placeholder="CARD HOLDER NAME">
                                    <input type="text" class="form-control mb- input" placeholder="CARD NUMBER">
                                    <div class="row mb-4">
                                        <label class="fw-bold mb-2">EXPIRY DATE</label>
                                        <div class="col-md-4 mb-2 mb-md-0">
                                            <input type="text" class="form-control input" placeholder="MONTH">
                                        </div>
                                        <div class="col-md-4 mb-2 mb-md-0">
                                            <input type="text" class="form-control input" placeholder="YEAR">
                                        </div>
                                        <div class="col-md-4">
                                            <input type="text" class="form-control input" placeholder="CVV">
                                        </div>
                                    </div>
                                    <div class="d-flex justify-content-center gap-3">
                                        <button class="cart-btn  "> SHOPPING CART</button>
                                        <button class="cart-btn  " routerLink="/ThankYoupage">PLACE ORDER</button>

                                    </div>
                                </form>
                           
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>


<app-newsletter />